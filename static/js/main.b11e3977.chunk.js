(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1daMq",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3ftvs"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__wKK1L",Modal:"Modal_Modal__2U2-E"}},25:function(e,t,a){e.exports={Container:"Container_Container__3jB6D"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__jMY3z"}},27:function(e,t,a){e.exports={Button:"Button_Button__LQS4z"}},35:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__DPzbM",SearchForm:"SearchBar_SearchForm__1WPLo",SearchFormButton:"SearchBar_SearchFormButton__3BPOS",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__DYXdE",SearchFormInput:"SearchBar_SearchFormInput__3021t"}},61:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(3),s=a.n(o),i=(a(35),a(16)),u=a(4),l=a(15),m=(a(36),a(25)),j=a.n(m),b=function(e){var t=e.children;return Object(n.jsx)("div",{className:j.a.Container,children:t})},d=a(5),h=a.n(d);function g(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(u.a)(a,2),o=c[0],s=c[1];return Object(n.jsx)("header",{className:h.a.Searchbar,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):alert("Enter what you are looking for.")},className:h.a.SearchForm,children:[Object(n.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(n.jsx)("span",{className:h.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{value:o,onChange:function(e){var t=e.currentTarget;s(t.value)},className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var f=a(12),O=a.n(f),p=a(6),S=a.n(p);O.a.defaults.baseURL="https://pixabay.com/api";var v=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.page,r=void 0===n?1:n;return O.a.get("/?q=".concat(a,"&page=").concat(r,"&key=").concat("18638925-2c8019a9c3774592e4e395576","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))};v.propTypes={searchQuery:S.a.string.isRequired,currentPage:S.a.number.isRequired};var I=v,_=a(13),x=a.n(_),y=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,c=void 0===r?"":r,o=e.onSetImgInfo;return Object(n.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(n.jsx)("img",{src:t,alt:c,className:x.a.ImageGalleryItemImage,onClick:function(){o({largeImageURL:a,tags:c})}})})},w=a(26),L=a.n(w),B=function(e){var t=e.images,a=e.onSetImgInfo;return Object(n.jsx)("ul",{className:L.a.ImageGallery,children:t.map((function(e,t){var r=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(n.jsx)(y,{webformatURL:r,largeImageURL:c,tags:o,onSetImgInfo:a},t)}))})},N=a(27),F=a.n(N),C=function(e){var t=e.onLoadMore;return Object(n.jsx)("button",{type:"button",className:F.a.Button,onClick:function(){return t()},children:"Load more"})},G=a(14),M=a.n(G),R=document.querySelector("#modal-root");function k(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(n.jsx)("div",{className:M.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(n.jsx)("div",{className:M.a.Modal,children:a})}),R)}var E=a(28),U=a(11),q=a(29),z=a.n(q);function P(){var e=Object(E.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return P=function(){return e},e}var D=Object(U.css)(P());function Q(){return Object(n.jsx)("div",{className:"sweet-loading",children:Object(n.jsx)(z.a,{css:D,size:60,color:"#36d7b7"})})}var T="idle",J="pending",K="resolved",W="rejected";function Y(){var e=Object(r.useState)("landscape"),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(1),s=Object(u.a)(o,2),m=s[0],j=s[1],d=Object(r.useState)([]),h=Object(u.a)(d,2),f=h[0],O=h[1],p=Object(r.useState)(null),S=Object(u.a)(p,2),v=S[0],_=S[1],x=Object(r.useState)(null),y=Object(u.a)(x,2),w=y[0],L=y[1],N=Object(r.useState)(null),F=Object(u.a)(N,2),G=F[0],M=F[1],R=Object(r.useState)(T),E=Object(u.a)(R,2),U=E[0],q=E[1];Object(r.useEffect)((function(){q(J),I({searchQuery:a,page:m}).then((function(e){e.length<1?(l.b.info("Nothing matched your search terms \ud83d\ude23"),M(!0),q(W)):(O((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),q(K),1!==m&&z())})).catch((function(e){M(e),q(W)}))}),[a,m]);var z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(n.jsxs)(b,{children:[Object(n.jsx)(g,{onSubmit:function(e){a!==e&&(O([]),j(1),M(!1),c(e))}}),U===W&&G&&Object(n.jsx)("p",{children:"Whoops, something went wrong \ud83d\ude23"}),U===J&&Object(n.jsx)(Q,{}),Object(n.jsx)(B,{images:f,onSetImgInfo:function(e){var t=e.largeImageURL,a=e.tags;_(t),L(a)}}),f.length>0&&U===K&&Object(n.jsx)(C,{onLoadMore:function(){j((function(e){return e+1}))}}),v&&Object(n.jsx)(k,{onClose:function(){_("")},children:Object(n.jsx)("img",{src:v,alt:w})}),Object(n.jsx)(l.a,{autoClose:3e3})]})}s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.b11e3977.chunk.js.map