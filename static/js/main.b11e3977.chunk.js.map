{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/Container/Container.js","components/SearchBar/Searchbar.js","services/image-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","Container","children","className","s","Searchbar","onSubmit","useState","query","setQuery","event","preventDefault","trim","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","value","onChange","currentTarget","SearchFormInput","autoComplete","autoFocus","placeholder","axios","defaults","baseURL","fetchImages","searchQuery","page","get","then","data","hits","propTypes","PropTypes","string","isRequired","currentPage","number","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","override","css","Loader","size","color","Status","App","setSearchQuery","setPage","setImages","setLargeImageURL","imgTags","setImgTags","error","setError","status","setStatus","imageApi","length","toast","info","prevState","scrollToBottom","catch","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b11e3977.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1daMq\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3ftvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__wKK1L\",\"Modal\":\"Modal_Modal__2U2-E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3jB6D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jMY3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__LQS4z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__DPzbM\",\"SearchForm\":\"SearchBar_SearchForm__1WPLo\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3BPOS\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__DYXdE\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3021t\"};","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChangeQuery = ({ currentTarget }) => {\n    setQuery(currentTarget.value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      alert('Enter what you are looking for.');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          value={query}\n          onChange={handleChangeQuery}\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst apiKey = '18638925-2c8019a9c3774592e4e395576';\n\nconst fetchImages = ({ searchQuery = '', page = 1 }) => {\n  return axios\n    .get(\n      `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nfetchImages.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default fetchImages;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = '',\n  onSetImgInfo,\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={() => {\n          onSetImgInfo({ largeImageURL, tags });\n        }}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onSetImgInfo: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onSetImgInfo }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ webformatURL, largeImageURL, tags }, idx) => (\n        <ImageGalleryItem\n          key={idx}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onSetImgInfo={onSetImgInfo}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onSetImgInfo: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  });\n\n  const handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n","import { css } from '@emotion/core';\nimport RingLoader from 'react-spinners/RingLoader';\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\nexport default function Loader() {\n  return (\n    <div className=\"sweet-loading\">\n      <RingLoader css={override} size={60} color={'#36d7b7'} />\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport imageApi from './services/image-api';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('landscape');\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [largeImageURL, setLargeImageURL] = useState(null);\n  const [imgTags, setImgTags] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n\n    imageApi({ searchQuery, page })\n      .then(images => {\n        if (images.length < 1) {\n          toast.info('Nothing matched your search terms ðŸ˜£');\n          setError(true);\n          setStatus(Status.REJECTED);\n        } else {\n          setImages(prevState => [...prevState, ...images]);\n          setStatus(Status.RESOLVED);\n          if (page !== 1) {\n            scrollToBottom();\n          }\n        }\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [searchQuery, page]);\n\n  const handleLoadMore = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  const handleSubmitForm = query => {\n    if (searchQuery === query) {\n      return;\n    }\n    setImages([]);\n    setPage(1);\n    setError(false);\n    setSearchQuery(query);\n  };\n\n  const scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => {\n    setLargeImageURL('');\n  };\n\n  const setImgInfo = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setImgTags(tags);\n  };\n\n  return (\n    <Container>\n      <SearchBar onSubmit={handleSubmitForm} />\n      {status === Status.REJECTED && error && (\n        <p>Whoops, something went wrong ðŸ˜£</p>\n      )}\n      {status === Status.PENDING && <Loader />}\n      <ImageGallery images={images} onSetImgInfo={setImgInfo} />\n      {images.length > 0 && status === Status.RESOLVED && (\n        <Button onLoadMore={handleLoadMore} />\n      )}\n\n      {largeImageURL && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt={imgTags} />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}